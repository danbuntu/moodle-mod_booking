{"version":3,"file":"signinsheetdownload.min.js","sources":["../src/signinsheetdownload.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * AJAX helper for the inline editing a value.\r\n *\r\n * This script is automatically included from template core/inplace_editable\r\n * It registers a click-listener on [data-inplaceeditablelink] link (the \"inplace edit\" icon),\r\n * then replaces the displayed value with an input field. On \"Enter\" it sends a request\r\n * to web service core_update_inplace_editable, which invokes the specified callback.\r\n * Any exception thrown by the web service (or callback) is displayed as an error popup.\r\n *\r\n * @module     mod_booking/signinsheetdownload\r\n * @copyright  2019 Andraž Prinčič\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n * @since      4.5\r\n */\r\n\r\ndefine([], function() {\r\n    return {\r\n        init: function() {\r\n            const downloadbtn = document.getElementById(\"sign_in_sheet_download\");\r\n            if (downloadbtn) {\r\n                downloadbtn.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    const elem = document.getElementById(\"signinsheet\");\r\n                    if (elem.classList.contains('hidden')) {\r\n                        elem.classList.remove('hidden');\r\n                        elem.setAttribute(\"aria-hidden\", \"false\");\r\n                    } else {\r\n                        elem.classList.add('hidden');\r\n                        elem.setAttribute(\"aria-hidden\", \"true\");\r\n                    }\r\n                });\r\n            }\r\n\r\n            const downloadbtntop = document.getElementById(\"downloadsigninsheet-top-btn\");\r\n            if (downloadbtntop) {\r\n                downloadbtntop.addEventListener('click', (e) => {\r\n                    e.preventDefault();\r\n                    document.querySelector('button[name=\"downloadsigninsheet\"]').click();\r\n                });\r\n            }\r\n        }\r\n    };\r\n});"],"names":["define","init","downloadbtn","document","getElementById","addEventListener","e","preventDefault","elem","classList","contains","remove","setAttribute","add","downloadbtntop","querySelector","click"],"mappings":";;;;;;;;;;;;;;AA8BAA,OAAM,kCAAC,IAAI,WACP,MAAO,CACHC,KAAM,WACF,MAAMC,YAAcC,SAASC,eAAe,0BACxCF,aACAA,YAAYG,iBAAiB,SAAUC,IACnCA,EAAEC,iBACF,MAAMC,KAAOL,SAASC,eAAe,eACjCI,KAAKC,UAAUC,SAAS,WACxBF,KAAKC,UAAUE,OAAO,UACtBH,KAAKI,aAAa,cAAe,WAEjCJ,KAAKC,UAAUI,IAAI,UACnBL,KAAKI,aAAa,cAAe,QACrC,IAIR,MAAME,eAAiBX,SAASC,eAAe,+BAC3CU,gBACAA,eAAeT,iBAAiB,SAAUC,IACtCA,EAAEC,iBACFJ,SAASY,cAAc,sCAAsCC,OAAO,GAGhF,EAER"}